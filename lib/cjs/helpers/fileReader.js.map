{"version":3,"sources":["../../../src/helpers/fileReader.ts"],"names":["getTsvContent","path","skipHeader","content","fs","readFileSync","encoding","records","split","logError","error","filepath","BaseTermError","existsSync","appendFileSync","toLogString","outputFileSync","generateLogHeader","join"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;;;AAEO,SAASA,aAAT,CAAuBC,IAAvB,EAAqCC,UAAU,GAAG,KAAlD,EAAmE;AACxE,QAAMC,OAAO,GAAGC,iBAAGC,YAAH,CAAgBJ,IAAhB,EAAsB;AAACK,IAAAA,QAAQ,EAAE;AAAX,GAAtB,CAAhB;;AACA,QAAMC,OAAO,GAAGJ,OAAO,CAACK,KAAR,CAAc,IAAd,CAAhB;;AACA,MAAIN,UAAJ,EAAgB;AACdK,IAAAA,OAAO,CAAC,CAAD,CAAP,GAAa,EAAb;AACD;;AACD,SAAOA,OAAP;AACD;;AAEM,SAASE,QAAT,CAAuCR,IAAvC,EAAqDS,KAArD,EAAqE;AAC1E,QAAMC,QAAQ,GAAID,KAAK,YAAYE,qBAAlB,GAAmC,gCAAgBX,IAAhB,CAAnC,GAA2D,kCAAkBA,IAAlB,CAA5E;;AACA,MAAIG,iBAAGS,UAAH,CAAcF,QAAd,CAAJ,EAA6B;AAC3BP,qBAAGU,cAAH,CAAkBH,QAAlB,EAA6B,KAAID,KAAK,CAACK,WAAN,EAAoB,EAArD,EAAwD;AAACT,MAAAA,QAAQ,EAAE;AAAX,KAAxD;AACD,GAFD,MAEO;AACLF,qBAAGY,cAAH,CAAkBL,QAAlB,EAA4B,CAACD,KAAK,CAACO,iBAAN,EAAD,EAA4BP,KAAK,CAACK,WAAN,EAA5B,EAAiDG,IAAjD,CAAsD,IAAtD,CAA5B,EAAyF;AAACZ,MAAAA,QAAQ,EAAE;AAAX,KAAzF;AACD;AACF","sourcesContent":["import fs from 'fs-extra';\nimport {BaseError, BaseTermError} from '../errors';\nimport {getPhysicsLogPath, getTermsLogPath} from '../constants';\n\nexport function getTsvContent(path: string, skipHeader = false): string[] {\n  const content = fs.readFileSync(path, {encoding: 'utf-8'});\n  const records = content.split('\\n');\n  if (skipHeader) {\n    records[0] = '';\n  }\n  return records;\n}\n\nexport function logError<T extends BaseError>(path: string, error: T): void {\n  const filepath = (error instanceof BaseTermError) ? getTermsLogPath(path) : getPhysicsLogPath(path);\n  if (fs.existsSync(filepath)) {\n    fs.appendFileSync(filepath, `\\n${error.toLogString()}`, {encoding: 'utf-8'});\n  } else {\n    fs.outputFileSync(filepath, [error.generateLogHeader(), error.toLogString()].join('\\n'), {encoding: 'utf-8'});\n  }\n}\n"],"file":"fileReader.js"}